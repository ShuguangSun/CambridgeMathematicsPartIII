\documentclass{tufte-book}
% Utility packages
\usepackage{amsthm}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{geometry}
\usepackage{setspace}
\usepackage{graphicx}
\usepackage{enumerate}
\usepackage{listings}
\usepackage{booktabs}
\usepackage{hyperref}
\usepackage{thmtools}
\usepackage{xparse}
\hypersetup{colorlinks=true}

\declaretheorem[numberwithin=chapter,name=Theorem]{thm}
\declaretheorem[name=Lemma,sibling=thm]{lem}
\declaretheorem[name=Definition,sibling=thm]{defn}
\declaretheorem[name=Example,sibling=thm]{exmp}
\declaretheorem[name=Theorem,sibling=thm,thmbox=L]{boxthm}

\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}

\setcounter{secnumdepth}{2}
\onehalfspacing

\author{Andrew Tulloch}
\publisher{Trinity College\\The University of Cambridge}
% Shortcuts
% convergence in probability
\newcommand{\cd}{\overset{d}{\rightarrow}}    
% convergence in distribution
\newcommand{\cp}{\overset{p}{\rightarrow}}
% convergence almost surely
\newcommand{\cas}{\overset{as}{\rightarrow}}

% Expectation
\NewDocumentCommand{\E}{g}{%
  \IfNoValueTF{#1}
    {%
      \mathbb{E}
    }    
    {%
      \mathbb{E}\!\left(#1\right)
    }%
}

% Probability
\NewDocumentCommand{\Prob}{g}{%
  \IfNoValueTF{#1}
    {%
      \mathbb{P}
    }    
    {%
      \mathbb{P}\!\left(#1\right)
    }%
}
